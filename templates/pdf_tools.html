{% extends "base.html" %}

{% block content %}
<style>
    .pdf-tools-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px 0;
    }
    
    .page-header {
        text-align: center;
        margin-bottom: 40px;
        color: #4a5568;
    }
    
    .page-header h2 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
    }
    
    .page-header p {
        color: #718096;
        font-size: 1.1rem;
    }

    .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
    }

    .tool-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }

    .tool-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    .card-header {
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
        border-bottom: 1px solid #f0f0f0;
    }

    .card-icon {
        width: 50px;
        height: 50px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
    }

    .bg-blue { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .bg-green { background: linear-gradient(135deg, #2af598 0%, #009efd 100%); }
    .bg-orange { background: linear-gradient(135deg, #f6d365 0%, #fda085 100%); }
    .bg-purple { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); }

    .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #2d3748;
        margin: 0;
    }

    .card-body {
        padding: 25px;
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #4a5568;
        font-size: 0.95rem;
    }

    .form-control {
        width: 100%;
        padding: 10px 12px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        font-size: 1rem;
        transition: border-color 0.2s;
        font-family: inherit;
    }

    .form-control:focus {
        border-color: #667eea;
        outline: none;
    }

    .form-text {
        display: block;
        margin-top: 6px;
        font-size: 0.85rem;
        color: #718096;
    }

    .btn-tool {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: opacity 0.2s;
        color: white;
        margin-top: auto;
    }

    .btn-tool:hover {
        opacity: 0.9;
    }

    .result-section {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        padding: 30px;
        margin-top: 40px;
    }

    .result-header {
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 15px;
        margin-bottom: 20px;
        font-size: 1.5rem;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .result-content {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
        font-family: 'Courier New', Courier, monospace;
        white-space: pre-wrap;
        max-height: 500px;
        overflow-y: auto;
        color: #2d3748;
    }

    @media (max-width: 768px) {
        .tools-grid {
            grid-template-columns: 1fr;
        }
    }
</style>

<div class="pdf-tools-container">
    <div class="page-header">
        <h2><i class="fas fa-file-pdf" style="color: #e53e3e;"></i> PDF Tools</h2>
        <p>Manage your PDF documents with ease</p>
    </div>

    <style>
    .bg-red { background: linear-gradient(135deg, #ff512f 0%, #dd2476 100%); }
    .bg-teal { background: linear-gradient(135deg, #1d976c 0%, #93f9b9 100%); }
    .bg-dark-blue { background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); }
    .bg-pink { background: linear-gradient(135deg, #ec008c 0%, #fc6767 100%); }
    </style>

    <div class="tools-grid">
        
        <!-- Compress PDF -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-red">
                    <i class="fas fa-compress-arrows-alt"></i>
                </div>
                <h3 class="card-title">Compress PDF</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="compress_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                        <small class="form-text">Reduce file size while maintaining quality.</small>
                    </div>
                    <button type="submit" class="btn-tool bg-red">Compress PDF</button>
                </form>
            </div>
        </div>

        <!-- Protect PDF -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-dark-blue">
                    <i class="fas fa-lock"></i>
                </div>
                <h3 class="card-title">Protect PDF</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="protect_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Set Password</label>
                        <input type="password" class="form-control" name="password" placeholder="Enter password" required>
                    </div>
                    <button type="submit" class="btn-tool bg-dark-blue">Encrypt PDF</button>
                </form>
            </div>
        </div>

        <!-- Unlock PDF -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-teal">
                    <i class="fas fa-unlock-alt"></i>
                </div>
                <h3 class="card-title">Unlock PDF</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="unlock_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" name="password" placeholder="Enter correct password" required>
                    </div>
                    <button type="submit" class="btn-tool bg-teal">Remove Password</button>
                </form>
            </div>
        </div>

        <!-- Rotate PDF -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-pink">
                    <i class="fas fa-sync-alt"></i>
                </div>
                <h3 class="card-title">Rotate PDF</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="rotate_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Rotation</label>
                        <select class="form-control" name="angle">
                            <option value="90">90째 Clockwise</option>
                            <option value="180">180째</option>
                            <option value="270">270째 Clockwise (90째 CCW)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-tool bg-pink">Rotate Pages</button>
                </form>
            </div>
        </div>

        <!-- Watermark PDF -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-purple">
                    <i class="fas fa-stamp"></i>
                </div>
                <h3 class="card-title">Watermark PDF</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="watermark_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Watermark Text</label>
                        <input type="text" class="form-control" name="watermark_text" placeholder="e.g. CONFIDENTIAL" required>
                    </div>
                    <button type="submit" class="btn-tool bg-purple">Add Watermark</button>
                </form>
            </div>
        </div>
        
        <!-- Organize PDF -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-orange">
                    <i class="fas fa-sort-numeric-down"></i>
                </div>
                <h3 class="card-title">Organize PDF</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="organize_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Page Order (e.g. 3, 1, 2)</label>
                        <input type="text" class="form-control" name="page_order" placeholder="e.g. 1, 3, 2" required>
                        <small class="form-text">Enter page numbers in desired order.</small>
                    </div>
                    <button type="submit" class="btn-tool bg-orange">Reorder Pages</button>
                </form>
            </div>
        </div>

        <!-- Images to PDF -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-blue">
                    <i class="fas fa-images"></i>
                </div>
                <h3 class="card-title">Images to PDF</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="img_to_pdf">
                    <div class="form-group">
                        <label class="form-label">Select Images</label>
                        <input type="file" class="form-control" name="files" accept="image/*" multiple required>
                        <small class="form-text">Supports JPG, PNG. Select multiple to combine.</small>
                    </div>
                    <button type="submit" class="btn-tool bg-blue">Convert to PDF</button>
                </form>
            </div>
        </div>

        <!-- Merge PDFs -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-green">
                    <i class="fas fa-object-group"></i>
                </div>
                <h3 class="card-title">Merge PDFs</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="merge_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF Files</label>
                        <input type="file" class="form-control" name="files" accept=".pdf" multiple required>
                        <small class="form-text">Files merge in selection order.</small>
                    </div>
                    <button type="submit" class="btn-tool bg-green">Merge Documents</button>
                </form>
            </div>
        </div>

        <!-- Split / Extract -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-orange">
                    <i class="fas fa-cut"></i>
                </div>
                <h3 class="card-title">Split / Extract</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="split_pdf">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Page Range</label>
                        <input type="text" class="form-control" name="page_range" placeholder="e.g. 1-3, 5">
                        <small class="form-text">Leave blank to extract all pages as ZIP.</small>
                    </div>
                    <button type="submit" class="btn-tool bg-orange">Extract Pages</button>
                </form>
            </div>
        </div>

        <!-- Extract Text -->
        <div class="tool-card">
            <div class="card-header">
                <div class="card-icon bg-purple">
                    <i class="fas fa-font"></i>
                </div>
                <h3 class="card-title">Extract Text</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('pdf_tools') }}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="action" value="extract_text">
                    <div class="form-group">
                        <label class="form-label">Select PDF File</label>
                        <input type="file" class="form-control" name="file" accept=".pdf" required>
                        <small class="form-text">Extract readable text content.</small>
                    </div>
                    <button type="submit" class="btn-tool bg-purple">Get Text</button>
                </form>
            </div>
        </div>

    </div>

    <!-- Result Area -->
    {% if result_text %}
    <div class="result-section">
        <div class="result-header">
            <i class="fas fa-align-left text-primary"></i>
            <span>Extracted Text Content</span>
        </div>
        <div class="result-content">{{ result_text }}</div>
    </div>
    {% endif %}

</div>
{% endblock %}
